
<h1><f:translate id="staffm.category.list.headline" /></h1>
<f:flashMessages />   
    <f:form action="list" arguments="{qualifikation:qualification, key:key, standardsearch:standardsearch, cache: '{cache}'}" additionalAttributes="{role: 'form'}"> 
    <tv:widget.atoZNav objects="{categories}" as="filteredCategories" property="name" search="{search}" maid="{maid}"> 
        <div class="input-group">  
            <div class="input-group-prepend">                       
                <f:security.ifHasRole role="PA">                                                
                    <f:link.action class="btn btn-default" title="Zum Formular fÃ¼r Kategorie anlegen" action="new"><f:translate id="staffm.category.new" /></f:link.action>                    
                </f:security.ifHasRole> 
                <f:link.action title="Die Liste in Excel ausgeben" id="excelExport" class="btn btn-default" action="export" arguments="{searching:'{search}'}" name="excelExport" >
                    <f:image class="tx_staffm icon" src="typo3conf/ext/staffm/Resources/Public/Icons/Excel.png" />
                    Excel Export
                </f:link.action>
            </div>
            <f:form.textfield placeholder="Suchwort..." class="form-control" name="search" value="{search}" />
            <div class="input-group-append">                    
                <button type="submit" class="btn btn-default"><f:translate id="staffm.search" /></button>
            </div>           
        </div>
        <tv:widget.sort objects="{filteredCategories}" as="sortedCategories" property="name">
            <table  class="tx_staffm" >
                <tr>
                    <th><f:translate key="tx_staffm_domain_model_category.name" /></th>
                    <th></th>
                </tr>
                <f:for each="{sortedCategories}" as="category">
                    <tr> 
                        <td><div id="cat{category.uid}" class="anchor"></div><f:link.action action="show" arguments="{category:category, search:search}"> {category.name}</f:link.action></td>
                        <f:security.ifHasRole role="PA">
                            <td class="staffmobilehidden nobackground">
                                <div class="btn-group">
                                    <f:link.action class="btn btn-secondary btn-sm" action="edit" arguments="{category : category}"><f:translate id="staffm.edit" /></f:link.action>
                                    <f:link.action class="btn btn-danger btn-sm" action="delete" arguments="{category : category}"><f:translate id="staffm.delete" /></f:link.action>
                                </div>
                            </td>
                        </f:security.ifHasRole>
                    </tr>
                </f:for>
            </table>
        </tv:widget.sort>
    </tv:widget.atoZNav>
</f:form> 

